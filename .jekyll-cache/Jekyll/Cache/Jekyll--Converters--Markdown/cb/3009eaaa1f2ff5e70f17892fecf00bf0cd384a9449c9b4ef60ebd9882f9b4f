I"<h2 id="ìŠ¤í”„ë§ì—ì„œ-ajaxë¡œ-ë°ì´í„°-ì „ë‹¬í•˜ëŠ”-ë°©ë²•">ìŠ¤í”„ë§ì—ì„œ Ajaxë¡œ ë°ì´í„° ì „ë‹¬í•˜ëŠ” ë°©ë²•</h2>

<h3 id="ë¨¼ì €-jspì—ì„œ-ë°ì´í„°ë¥¼-ë„˜ê²¨ë³´ì">ë¨¼ì € jspì—ì„œ ë°ì´í„°ë¥¼ ë„˜ê²¨ë³´ì</h3>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="nt">&lt;h3&gt;</span>1. ìš”ì²­ì‹œ ê°’ ì „ë‹¬, ì‘ë‹µ ê²°ê³¼ ë°›ê¸°<span class="nt">&lt;/h3&gt;</span>
	í•˜ê³ ì‹¶ì€ ë§ : <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"sentence"</span><span class="nt">&gt;</span> <span class="nt">&lt;br&gt;</span>
	<span class="nt">&lt;button</span> <span class="na">onclick=</span><span class="s">"test()"</span><span class="nt">&gt;</span>ì „ì†¡<span class="nt">&lt;/button&gt;</span>
	
	<span class="c">&lt;!-- ì‘ë‹µë°ì´í„° ìˆì„ ê²½ìš° ì¶œë ¥í•  ì˜ì—­ --&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"result"</span><span class="nt">&gt;&lt;/div&gt;</span>
	
	<span class="nt">&lt;script&gt;</span>
		<span class="kd">function</span> <span class="nx">test</span><span class="p">(){</span>
			<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
				<span class="na">url</span><span class="p">:</span><span class="dl">"</span><span class="s2">ajax.do</span><span class="dl">"</span><span class="p">,</span>
				<span class="na">data</span><span class="p">:{</span>
					<span class="na">name</span><span class="p">:</span><span class="nx">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#sentence</span><span class="dl">"</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
				<span class="p">},</span><span class="na">success</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span>
					<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
					<span class="nx">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#result</span><span class="dl">"</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
				<span class="p">},</span><span class="na">error</span><span class="p">:</span><span class="kd">function</span><span class="p">(){</span>
					<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">ajaxí†µì‹  ì‹¤íŒ¨</span><span class="dl">"</span><span class="p">);</span>
				<span class="p">}</span>
			<span class="p">});</span>
		<span class="p">}</span>
	<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<h3 id="í•´ë‹¹-ë°ì´í„°ë¥¼-ì²˜ë¦¬í•œ-ë’¤-controllerì—ì„œ-jspë¡œ-ë°ì´í„°ë¥¼-ë³´ë‚´ëŠ”-ë°©ë²•ì€-2ê°€ì§€ê°€-ìˆë‹¤">í•´ë‹¹ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•œ ë’¤ Controllerì—ì„œ jspë¡œ ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ” ë°©ë²•ì€ 2ê°€ì§€ê°€ ìˆë‹¤.</h3>

<h3 id="1-httpservletresponse-ê°ì²´ë¡œ-ì‘ë‹µí•˜ê¸°">1. HttpServletResponse ê°ì²´ë¡œ ì‘ë‹µí•˜ê¸°</h3>
<ul>
  <li>ê¸°ì¡´ jsp/servletì˜ Streamë°©ì‹</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AjaxController</span> <span class="o">{</span>

   <span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"ajax.do"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">ajax1</span><span class="o">(</span><span class="nc">String</span> <span class="n">sentence</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
		<span class="nc">String</span> <span class="n">responseData</span> <span class="o">=</span> <span class="s">"ì‘ë‹µë¬¸ìì—´: "</span> <span class="o">+</span> <span class="n">sentence</span><span class="o">;</span>
		
		<span class="n">response</span><span class="o">.</span><span class="na">setContentType</span><span class="o">(</span><span class="s">"text/html; charset=UTF-8"</span><span class="o">);</span>
		<span class="n">response</span><span class="o">.</span><span class="na">getWriter</span><span class="o">().</span><span class="na">print</span><span class="o">(</span><span class="n">responseData</span><span class="o">);</span>			

	<span class="o">}</span>
<span class="o">}</span> 
</code></pre></div></div>

<h3 id="2-ì‘ë‹µ-ë°ì´í„°ë¥¼-ë¬¸ìì—´ë¡œ-ë¦¬í„´">2. ì‘ë‹µ ë°ì´í„°ë¥¼ ë¬¸ìì—´ë¡œ ë¦¬í„´</h3>
<ul>
  <li>ë‹¨, ë¬¸ìì—´ ë¦¬í„´ì€ ì›ë˜ <code class="language-plaintext highlighter-rouge">í¬ì›Œë”© ë°©ì‹</code>ìœ¼ë¡œ ë¦¬í„´í•˜ëŠ” ë¬¸ìì—´ì„ ì‘ë‹µë·°ë¡œ ì¸ì‹í•˜ì—¬ í•´ë‹¹ ë·°í˜ì´ì§€ë¥¼ ì°¾ìœ¼ë¯€ë¡œ 404 ì—ëŸ¬ê°€ ë°œìƒ<br />
   ğŸ‘‰ @ResponseBody ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•˜ì—¬ ë¬¸ìì—´ì´ ì‘ë‹µë·°ê°€ ì•„ë‹Œ ì‘ë‹µ ë°ì´í„°ë¼ëŠ” ê²ƒì„ ëª…ì‹œí•´ì¤Œ
   ğŸ‘‰ ë‹¨, ì‘ë‹µë°ì´í„°ì— í•œê¸€ì´ í¬í•¨ëœ ê²½ìš° RequestMappingì—ì„œ <code class="language-plaintext highlighter-rouge">produces ì†ì„±</code>ìœ¼ë¡œ contentíƒ€ì…ì„ ì§€ì •</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AjaxController</span> <span class="o">{</span>

   <span class="nd">@ResponseBody</span>
	<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"ajax1.do"</span><span class="o">,</span> <span class="n">produces</span><span class="o">=</span><span class="s">"text/html; charset=UTF-8"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">ajax1</span><span class="o">(</span><span class="nc">String</span> <span class="n">sentence</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">String</span> <span class="n">responseData</span> <span class="o">=</span> <span class="s">"ì‘ë‹µë¬¸ìì—´: "</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s">","</span> <span class="o">+</span> <span class="n">age</span><span class="o">;</span>
		<span class="k">return</span> <span class="n">responseData</span><span class="o">;</span>	
	<span class="o">}</span>
<span class="o">}</span>   
</code></pre></div></div>

<h3 id="ê²°ê³¼í™”ë©´">ê²°ê³¼í™”ë©´</h3>

<p><img src="https://user-images.githubusercontent.com/93863500/150482959-bacb7015-a23d-4d29-b5fd-5687f9005b7c.JPG" alt="1" /></p>

<h4 id="ì°¸ê³ ">ì°¸ê³ </h4>
<ul>
  <li>ìˆ˜ì—…ìë£Œ</li>
</ul>
:ET