I"<style>
	h3{
		background-color:#D2D2FF;
		color: gray;
	}
</style>

<h2 id="1-mybatis-configxmlíŒŒì¼ì´ë€">1. mybatis-config.xmlíŒŒì¼ì´ë€?</h2>

<ul>
  <li>mybatisì— í•„ìš”í•œ ì„¤ì •ë“¤ì„ ê¸°ìˆ í•˜ëŠ” íŒŒì¼</li>
</ul>

<h3 id="1-mybatis-configxml-ìƒì„±">1) mybatis-config.xml ìƒì„±</h3>
<ol>
  <li>Java Resources ì•„ë˜ Source Folder ì•ˆì— ìœ„ì¹˜</li>
  <li>DTD fileë¡œ ìƒì„±</li>
  <li>environment íƒœê·¸ì— ì—°ë™í•  DB ì •ë³´ ì…ë ¥</li>
</ol>

<pre><code class="language-javaStript"> &lt;environments default="development"&gt;
	
    &lt;environment id="development"&gt;
        
        &lt;transactionManager type="JDBC" /&gt;
        
        &lt;dataSource type="POOLED"&gt;
            &lt;property name="driver" value="oracle.jdbc.driver.OracleDriver" /&gt;
            &lt;property name="url" value="jdbc:oracle:thin:@localhost:1521:xe" /&gt;
            &lt;property name="username" value="DBê³„ì •" /&gt;
            &lt;property name="password" value="ë¹„ë°€ë²ˆí˜¸" /&gt;
        &lt;/dataSource&gt;
        
    &lt;/environment&gt;
    
&lt;/environments&gt;
</code></pre>

<table>
  <thead>
    <tr>
      <th style="text-align: center">ì¢…ë¥˜</th>
      <th style="text-align: center">ì„¤ëª…</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">transactionManager</td>
      <td style="text-align: center">JDBC : ìˆ˜ë™ commit / MANAGED : ìë™ commit</td>
    </tr>
    <tr>
      <td style="text-align: center">dataSource</td>
      <td style="text-align: center">POOLED : ConnectionPool ì‚¬ìš© O / UNPOOLED : ì‚¬ìš© x</td>
    </tr>
  </tbody>
</table>

<h3 id="2-ëª©ì ">2) ëª©ì </h3>
<ul>
  <li>ì„œë¡œ í˜¸í™˜ë˜ì§€ ì•ŠëŠ” ë°ì´í„° íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ì‹œìŠ¤í…œ ê°„ì˜ ë°ì´í„° êµí™˜ì€ ì‹œê°„ì´ ë§ì´ ê±¸ë¦¬ê³  ë°ì´í„° ì†ì‹¤ë„ ë°œìƒí•¨<br />
   =&gt; ë°ì´í„°ë¥¼ í…ìŠ¤íŠ¸ í˜•ì‹ìœ¼ë¡œ ì €ì¥í•˜ì—¬ osë‚˜ ë¸Œë¼ìš°ì € ë“±ì— ìƒê´€ì—†ì´ ë…ë¦½ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ì„œë¡œ ë‹¤ë¥¸ ì£¼ì²´ê°„ì— ì •ë³´ë¥¼ ì‰½ê²Œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.</li>
</ul>

<h3 id="3-ìŠ¤í‚¤ë§ˆ">3) ìŠ¤í‚¤ë§ˆ</h3>
<ul>
  <li>xmlì´ ë‹¤ë¥¸ ì–¸ì–´ë¥¼ ì •ì˜í•˜ê¸° ìœ„í•´ í•´ë‹¹ ì–¸ì–´ì˜ í•„ìš” ìš”ì†Œì™€ ì†ì„± ì •ë³´ë¥¼ ëª¨ì•„ë†“ì€ ê²ƒ</li>
  <li>ì‘ì„±ë°©ë²• : DTD / XSD<br /></li>
</ul>

<h4 id="1dtddocument-type-definition">(1)DTD(Document Type Definition)</h4>
<ul>
  <li>XMLë¬¸ì„œì˜ êµ¬ì¡° ë° í•´ë‹¹ ë¬¸ì„œì—ì„œ ì‚¬ìš©í•  ì—”í‹°í‹° ë“±ì„ ì •ì˜í•¨</li>
  <li>ë¬¸ì„œ ë‚´ë¶€ ëª…ì‹œ ë˜ëŠ” ë³„ë„ì˜ íŒŒì¼ë¡œ ë¶„ë¦¬</li>
  <li>ë°ì´í„° êµí™˜ì˜ í‘œì¤€ìœ¼ë¡œì¨ í™œìš©ë˜ê±°ë‚˜ XMLë¬¸ì„œì˜ êµ¬ë¬¸ ë° êµ¬ì¡°ì— ëŒ€í•œ ìœ íš¨ì…© ê²€ì‚¬ ê°€ëŠ¥</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;!DOCTYPE ë£¨íŠ¸ìš”ì†Œ DTDì‹ë³„ì [ ì„ ì–¸1 ì„ ì–¸2 ... ]&gt;</code>
<br /><br /></li>
</ul>

<h2 id="2-mapperxml">2. mapper.xml</h2>
<h3 id="1-xmlê³¼-dtd-ì„ ì–¸">1) XMLê³¼ DTD ì„ ì–¸</h3>
<pre><code class="language-javaScript">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;
</code></pre>

<h3 id="2--ì‘ì„±">2) <mapper> ì‘ì„±</mapper></h3>
<ul>
  <li>SQL mapperì˜ ë£¨íŠ¸ ì—˜ë¦¬ë¨¼íŠ¸ë¡œ ëª¨ë“  SQLë¬¸ì€ mapper ì•ˆì— ê¸°ìˆ í•¨</li>
  <li>namespace : í•´ë‹¹ mapperíŒŒì¼ì˜ ê³ ìœ í•œ ë³„ì¹­ ë“±ë¡</li>
</ul>

<h3 id="3-select-insert-update-delete">3) select, insert, update, delete</h3>
<h4 id="1-dmlë¬¸">(1) DMLë¬¸</h4>
<p><code class="language-plaintext highlighter-rouge">&lt;insert|update|delete id="ì‹ë³„ì" [parameterType="ì „ë‹¬ë°›ì„ìë°”íƒ€ì…(íŒ¨í‚¤ì§€í¬í•¨í’€í´ë˜ìŠ¤ëª…)|ë³„ì¹­"]&gt; &lt;/insert|update|delete&gt;</code></p>
<ul>
  <li>ì‹¤í–‰ê²°ê³¼ê°€ intì´ë¯€ë¡œ resultì†ì„±ì´ í•„ìš” X</li>
</ul>

<pre><code class="language-javaScript">&lt;update id="increaseCount" parameterType="_int"&gt;
    update
            board
        set count = count+1
        where board_no = #{boardNo}
        and status = 'Y'
&lt;/update&gt;
</code></pre>

<table>
  <thead>
    <tr>
      <th style="text-align: center">ì¢…ë¥˜</th>
      <th style="text-align: center">ì„¤ëª…</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">id</td>
      <td style="text-align: center">í•´ë‹¹ SQLë¬¸ì˜ êµ¬ë¶„ì(ê³ ìœ  ì´ë¦„)</td>
    </tr>
    <tr>
      <td style="text-align: center">parameterType</td>
      <td style="text-align: center">êµ¬ë¬¸ì— ì „ë‹¬ëœ íŒŒë¼ë¯¸í„°ì˜ ì „ì²´ í´ë˜ìŠ¤ëª…ì´ë‚˜ ë³„ì¹­</td>
    </tr>
  </tbody>
</table>

<h4 id="2-selectë¬¸">(2) SELECTë¬¸</h4>
<p><code class="language-plaintext highlighter-rouge">&lt;select id="ì‹ë³„ì" [parameterType="ì „ë‹¬ë°›ì„ìë°”íƒ€ì…(íŒ¨í‚¤ì§€í¬í•¨í’€í´ë˜ìŠ¤ëª…)|ë³„ì¹­"] resultType="ì¡°íšŒê²°ê³¼ë°˜í™˜í•˜ê³ ìí•˜ëŠ”ìë°”íƒ€ì…" | resultMap="ì¡°íšŒê²°ê³¼ë¥¼ë½‘ì•„ì„œmappingí• resultMapì˜ id"&gt; &lt;/select&gt;</code></p>

<pre><code class="language-javaScript">&lt;select id="selectListCount" resultType="_int"&gt;
    select
           count(*)
      from board
     where status = 'Y'
&lt;/select&gt;
</code></pre>

<table>
  <thead>
    <tr>
      <th style="text-align: center">ì¢…ë¥˜</th>
      <th style="text-align: center">ì„¤ëª…</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">resultType</td>
      <td style="text-align: center">selectë¬¸ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë‹´ì„ ê°ì²´</td>
    </tr>
    <tr>
      <td style="text-align: center">resultMap</td>
      <td style="text-align: center">selectë¬¸ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë‹´ì„ ê°ì²´ë¥¼ resultMapìœ¼ë¡œ ì§€ì •, ë”°ë¡œ ì„ ì–¸í•´ì•¼í•¨</td>
    </tr>
  </tbody>
</table>

<h4 id="--resultmap">- resultMap</h4>
<ul>
  <li>sqlì»¬ëŸ¼ê°’ê³¼ voê°ì²´ì˜ í•„ë“œê°’ì„ ë§¤í•‘ì‹œí‚¤ëŠ” ì—­í• ë¡œ <strong>ë§ˆì´ë°”í‹°ìŠ¤ì˜ í•µì‹¬ ê¸°ëŠ¥</strong></li>
  <li>ë°ì´í„°ê°€ ìˆìœ¼ë©´ ë½‘ì•„ì„œ ë„£ê³  ì—†ìœ¼ë©´ ë§ê³ </li>
</ul>

<pre><code class="language-javaScript">&lt;resultMap id="replyResultSet" type="Reply"&gt;
    &lt;result column="reply_no" property="replyNo" /&gt;
    &lt;result column="user_id" property="replyWriter" /&gt;
    &lt;result column="reply_content" property="replyContent" /&gt;
    &lt;result column="create_date" property="createDate" /&gt;
&lt;/resultMap&gt;

&lt;select id="selectReplyList" resultMap="replyResultSet" parameterType="reply"&gt;
    select
            reply_no
            , reply_content
        from reply r
        join member on (reply_writer=user_no)
        where ref_bno = #{boardNo}
&lt;/select&gt;
</code></pre>

<h4 id="--">- #{}</h4>
<ul>
  <li>PreparedStatementë¥¼ ë§Œë“¤ì–´ì„œ íŒŒë¼ë¯¸í„°ì— ê°’ì„ ì„¸íŒ…í•˜ê¸° ìœ„í•œ ë¬¸ë²•</li>
  <li>'â€™ê°€ ìë™ ì‚½ì…ë˜ë©´ì„œ String í˜•íƒœë¡œ ê°’ì´ ë“¤ì–´ê°</li>
</ul>

<h3 id="3-mybatis-configmxlì—-í•´ë‹¹-mapper-íŒŒì¼-ë“±ë¡">3) mybatis-config.mxlì— í•´ë‹¹ mapper íŒŒì¼ ë“±ë¡</h3>
<ul>
  <li>mapper íƒœê·¸ ì´ìš©</li>
</ul>

<pre><code class="language-javaStript">&lt;mappers&gt;
    &lt;mapper resource="/mappers/board-mapper.xml" /&gt;
&lt;/mappers&gt;
</code></pre>

<h4 id="ì¶œì²˜">ì¶œì²˜</h4>

<ul>
  <li>ìˆ˜ì—…ìë£Œ</li>
  <li><a href="https://www.w3schools.com/">w3schools</a></li>
  <li><a href="https://mybatis.org/mybatis-3/ko/getting-started.html">ë§ˆì´ë°”í‹°ìŠ¤ ê³µì‹ë¬¸ì„œ</a></li>
</ul>

:ET